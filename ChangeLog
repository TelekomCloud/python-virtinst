2007-04-17  Mark McLoughlin  <markmc@redhat.com>

	* virt-install, virtinst/DistroManager.py, virtinst/Guest.py:
	The existing heuristic we use in virt-install to detect whether
	an install has completed successfully is dependant on the type
	of installer being used - i.e. if you create a VM with a livecd
	or a raw ext3 image, there may be no disk with an MBR at the end.
	Move the post-install logic into a new DistroInstaller method.
	
2007-04-17  Mark McLoughlin  <markmc@redhat.com>

	* virtinst/Guest.py: introduce a new Installer class which
	encapsulates the notion of how to install a guest, the
	idea being that we can install a guest using e.g. a distro
	installer, livecd or pre-built image.

	* virtinst/FullVirtGuest.py, virtinst/ParaVirtGuest.py:
	re-factor out the prepare_install_location() and get_config_xml()
	stuff and chain up to the installer for it

	* virtinst/DistroManager.py: add DistroInstaller which
	knows how to install using a distro iso or install tree

	* virtinst/__init__.py: expose DistroManager

	* tests/xmlconfig.py: update to use installer

2007-04-15  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install, virtinst/FullVirtGuest.py:
	Change OS distro/variant type so that command line can give a short
	version instead of long label. Include OS distro key for image
	fetcher support
	[33d3330b538f] [tip]

	* virtinst/DistroManager.py:
	Change way Red Hat distro detection works to avoid GPG key name
	randomness
	[8dbe844c683c]

2007-04-12  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install:
	Check for mutually exclusive command line args (patch from Shigeki
	Sakamoto.
	[9052b47e88c4]

	* virtinst/Guest.py:
	Fixed typo in UUID validation regex
	[071b76772c92]

2007-04-04  "S.Sakamoto"  <fj0588di@aa.jp.fujitsu.com>

	* virtinst/Guest.py:
	[et-mgmt-tools] [PATCH] check a UUID format Hi

	When, for confirmation of a UUID check, I install it by virt-intall
	by an invalid UUID, (e.g."uuid=12345678-abcd-1234-cdef-
	1234567890abc"), virt-install is carried out without an error being
	given.

	So, here's the patch adds to check a UUID with the number of the
	characters:

	Signed-off-by: Shigeki Sakamoto <fj0588di@aa.jp.fujitsu.com>

	 Thanks, Shigeki Sakamoto.

	 ==========================================================
	[04ddef989ad7]

2007-04-02  "Hugh O. Brock  <hbrock@redhat.com>

	* AUTHORS, virt-install, virtinst/Guest.py:
	Do a better job validating user-submitted UUIDs. Thanks to Shigeki
	Sakamoto <fj0588di-at-aa-dot-jp-dot-fujitsu-dot-com>. Modified
	slightly to also accept straight 32-hex-character numbers for UUID
	without the hyphens, which are also valid even though libvirt
	doesn't accept them.
	[a0cd4816ebfd]

2007-03-29  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/FullVirtGuest.py:
	Fix import problem, thanks to Nobuhiro Itou
	[e63d9c7f0a89]

2007-03-29  Tatsuro Enokura  <fj7716hz@aa.jp.fujitsu.com>

	* virtinst/Guest.py:
	Re: [et-mgmt-tools] [PATCH] HVM 3rd disk name don't use "hdc" Hi,
	Dan

	Tatsuro Enokura wrote: >>> I try that making the HVM domain with 3+
	disks by the virt-install command, >>> but the command says
	following error message: >>> # virt-install --name=HVM_3DISKS
	--file=/dev/sda6 --file=/dev/sda7 \ >>> --file=/dev/sda8 --hvm
	--vnc --ram=376 --cdrom=/dev/cdrom >> This is a ticky one ! We need
	to a) refuse to allow > 3 --file arguments >> to be used with HVM
	guests, and b) make sure the 3rd file gets given >> hdd as its
	device name. > > Thank you for your reviewing. > I rewite the patch.

	Would you give me a comment on this patch? If not, please apply it.

	Thanks, Tatsuro Enokura
	[72be2db58908]

2007-03-28  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install, virtinst/FullVirtGuest.py, virtinst/Guest.py:
	Support rebooting twice to handle Windows installs, among others.
	Additional reboot is controlled by the continue field in the
	dictionary in Guest.py. Thanks to Nobuhiro Itou.
	[0a4efe737df9]

	* virt-install:
	Fix mac address checking so your submitted mac address doesn't get
	zeroed if you don't also specify a network.
	[09ce92502cbe]

2007-03-28  Tatsuro Enokura  <fj7716hz@aa.jp.fujitsu.com>

	* virtinst/Guest.py:
	Re: [et-mgmt-tools] [PATCH] [RESEND]Check the making domain's mac
	address(part 2) Hi Hugh

	Hugh Brock wrote: > Actually now that I have thought some more about
	this, I don't think we > want to apply it at all. > > The current
	semantics of the --mac flag are as follows: > > 1. If --mac is
	specified, attempt to use that address. If it conflicts > with an
	in-use address, fail with an error > > 2. If --mac is not specified,
	choose an unused mac address at random. > > You would like to add
	the case wherein if --mac is specified and > conflicts with an
	existing mac address, a user can override the > conflict. However,
	we want operations with virt-install to be scriptable > -- that is,
	we do not ever want the script to halt waiting for input > unless it
	is obviously being run interactively. This means that, since a > mac
	address is never entered at a prompt, we can't put up a warning if >
	it conflicts. And I don't think we want to change the semantics to >
	always prompt for a mac address if it is not specified, since most
	users > aren't going to care what the mac address is anyway. > > One
	way we could address the underlying problem is to change the > mac-
	address conflict checking code in VirtualNetworkInterface.setup() so
	> that it prints a warning to the console or logs it, but continues
	with > the guest creation. I'm fine with this behavior, since it
	seems > reasonable to me that an installer might want to have
	multiple inactive > guests with the same mac address. Another
	alternative would be to fail > if there is an active guest with the
	same mac address, but only print a > warning (and continue) if there
	is an inactive guest with the same mac > address. I would take a
	patch for either scenario.

	I agree with your suggestion. I rewrite a patch that the mac-address
	conflict checking code in VirtualNetworkInterface.setup() so that it
	prints a warning to the stderr and logs.

	Thanks, Tatsuro Enokura
	[bb613fd6756f]

2007-03-27  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install:
	Backed out changeset a1f13a0e5b8288905efc6c40153b543257268b12. We
	explicitly do not want to prompt for mac address, we always want to
	choose randomly if it's not supplied. If it's supplied and
	conflicts, we want to error out.
	[5f874aafe698]

	* virt-install:
	Update mac address code to do a better job of checking and warning
	for duplicates.
	[a1f13a0e5b82]

2007-03-27  Nobuhiro Itou  <fj0873gn@aa.jp.fujitsu.com>

	* virtinst/FullVirtGuest.py:
	Re: [et-mgmt-tools] [PATCH][RESEND] RuntimeError message is error Hi

	Would you give me a comment on this patch? If not, please apply it.

	> The RuntimeError message becomes the error > "NameError: global
	name 'os_type' is not defined". > > The attached patch adds to solve
	this problem. > > Signed-off-by: Nobuhiro Itou
	<fj0873gn@aa.jp.fujitsu.com>

	 Thanks, Nobuhiro Itou.
	[36a9973c2e28]

2007-03-23  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install:
	Fix up warning messages for --check-cpu patch
	[8ac3199c83d1]

2007-03-23  Masayuki Sunou  <fj1826dm@aa.jp.fujitsu.com>

	* virt-install:
	Re: [et-mgmt-tools] [PATCH][RESEND] Add the option to guard maximums
	ofthenumber of virtual CPU by the number of physical CPU Hi,

	Would you give me a comment on this patch? If not, please apply it.

	> > Unless you can think of a compelling reason not to allow a user
	to do > > the above, I think we should not take this patch and leave
	the vcpu > > setting unbounded. However if you would like to send a
	patch that warns > > the user without imposing a hard limit, I think
	that would be reasonable. > > > I accepted your suggestion, and I
	made a patch again. > > This patch adds the option to warn when the
	number of virtual CPU is > more than the number of physical CPU.

	Signed-off-by: Masayuki Sunou <fj1826dm@aa.jp.fujitsu.com>

	Thanks, Masayuki Sunou

	 ===================================================================
	============
	[0a0d14fbfb80]

2007-03-21  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/Guest.py:
	Allow '-' in domain names. Fixes bz 221485
	[aec5777422c0]

2007-03-21  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install, virtinst/Guest.py:
	Added support for attaching VIF to a network, or using slirp
	usermode networking (QEMU non-root)
	[784dcfa0775b]

2007-03-20  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgtags:
	Added tag virtinst-0_102_0 for changeset
	8f7a361541f29d972762866cf8f9c786fbdc651f
	[112591870ae4]

	* ChangeLog, NEWS, python-virtinst.spec.in, setup.py:
	Updated for release 0.102.0
	[8f7a361541f2] [virtinst-0_102_0]

2007-03-20  Nobuhiro Itou  <fj0873gn@aa.jp.fujitsu.com>

	* virtinst/DistroManager.py:
	[et-mgmt-tools] [PATCH] RHEL5.0 guest cannot be installed by HTTP
	and NFS Hi,

	The RHEL5.0 guest domain cannot be installed by HTTP and NFS. "RPM-
	GPG-KEY" doesn't exist in RHEL5.0. Though I don't have confidence
	whether this way is the best, how about this correction?

	Signed-off-by: Nobuhiro Itou <fj0873gn@aa.jp.fujitsu.com>

	 Thanks, Nobuhiro Itou.
	[710c2960136f]

2007-03-16  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install, virtinst/Guest.py:
	Check and warn if a disk image is already being used by an active or
	inactive guest before installing. Thanks to Tatsuro Enokura
	<fj7716hz@aa-at-jp-dot-fujitsu-dot-com>.
	[73d38353c139]

2007-03-15  Nobuhiro Itou  <fj0873gn@aa.jp.fujitsu.com>

	* virtinst/DistroManager.py:
	[et-mgmt-tools] [PATCH] Fix paravirt install by NFS Hi,

	The paravirt domain cannot be installed by NFS. The attached patch
	adds to solve this problem.

	Signed-off-by: Nobuhiro Itou <fj0873gn@aa.jp.fujitsu.com>

	 Thanks, Nobuhiro Itou.
	[ecc4386895aa]

2007-03-15  "Hugh O. Brock  <hbrock@redhat.com>

	* AUTHORS:
	Add Tatsuro Enokura to AUTHORS (thanks for the patches)
	[c73505c17e05]

2007-03-15  Tatsuro Enokura  <fj7716hz@aa.jp.fujitsu.com>

	* virtinst/Guest.py, virtinst/util.py:
	Re: [et-mgmt-tools] [PATCH] Check the making domain's mac address
	Hi, Hugh

	Hugh Brock wrote: >>>>> The virt-install command can specify the
	making domain's vnif >>>>> MAC address. The MAC address must be
	unique on the system, >>>>> but the virt-install command doesn't
	check that >>>>> the MAC address is unique among the running domains
	and host. >>>>> >>>>> The attached patch resolve this issue in the
	following way: >>>>> >>>>> 1) Get the running Domain's vnif MAC
	address. >>>>> 2) Get the host's NIC MAC address. >>>>> 3) Check
	the making domain's MAC address with 1) and 2) 's data. >> >>>
	Actually, you really don't need to build up a list of mac addresses
	and >>> iterate over them. A much easier way is simply to get the
	XML for a >>> domain and then use an xpath expression something like
	>>> >>> if >>>
	ctx.xpathEval("count(/domain/devices/interface/mac/@address='%s')" %
	>>> macaddr) > 0: >>> # handle the case where the macaddr
	conflicts with an existing >>> domain >>> >>> If you can rewrite the
	patch along these lines I'll be happy to take it. >> >> Thank you
	for your suggestion. >> I rewrite the patch. > > I'm reviewing this
	now. I'm trying to work out if there's a way to do it > without
	repeating so much code... :)...

	Thank you for viewing my code. I rewrite the patch that the
	repeating code become the method.

	Thanks, Tatsuro Enokura

	--------------------------------------------------------------------
	[92c5fbb1d172]

2007-03-14  Nobuhiro Itou  <fj0873gn@aa.jp.fujitsu.com>

	* virt-install, virtinst/Guest.py:
	Re: [et-mgmt-tools] [PATCH][RESEND] connecting console after
	installcompletes Hi, Hugh

	> Two issues here: > > 1. The whole "restart the guest
	automatically" feature in virt-install > is a bit of a hack, and we
	are contemplating removing it altogether. The > problem is that
	virt-install has no real way of knowing whether the > guest that
	just shut down is really waiting to be rebooted, or is in > fact a
	failed install that the user would not want restarted anyway.

	Exactly. But, the "restart" hack is also true to help the user.
	Especially, the domain cannot be completely installed about Windows
	etc. with the reboot during the installation if it doesn't start
	automatically. Please keep autorestart function like --autorestart.

	> Having said this, as long as the "restart" hack is still there, I
	guess > I have no problem reconnecting the console as well. > > 2.
	Minor nit: instead of swallowing the error like > > +
	except OSError, (errno, msg): > + print __name__,
	"waitpid:", msg > > why not go ahead and raise a RuntimeError (and
	log the message) or > something similar?

	Okey. How about this correction?

	 Thanks, Nobuhiro Itou.
	[057e8c1b54df]

2007-03-13  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/Guest.py:
	Handle future case where getByUUIDString returns None without
	throwing an error
	[6b63ce413aab]

2007-03-13  Tatsuro Enokura  <fj7716hz@aa.jp.fujitsu.com>

	* virtinst/Guest.py:
	Re: [et-mgmt-tools] [PATCH][RESEND}Check the starting domain's uuid
	Hi,

	Would you give me a comment on this patch? If not, please apply it.

	Tatsuro Enokura wrote: > The virt-install command has a problem that
	the information of > the existent domain is overwritten by virt-
	install command > specifing the domain's uuid. > Futhermore, the
	existent domain's set-up file is overwritten > on the xen-3.0.4. > >
	I make a patch checking the starting domain's uuid on Guest.py.

	Signed-off-by: Tatsuro Enokura <fj1826dm@aa.jp.fujitsu.com>

	Thanks, Tatsuro Enokura

	-------
	[bfb4725b35c8]

2007-03-13  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install:
	Clean up prompt a bit more...
	[d3a99e9754a8]

	* virt-install:
	Clean up prompt a bit
	[d4fdb43e35d1]

2007-03-13  Nobuhiro Itou  <fj0873gn@aa.jp.fujitsu.com>

	* virt-install:
	Re: [et-mgmt-tools] [PATCH][RESEND] "--file-size" option is ignored
	Hi, Dan

	Would you give me a comment on this patch? If not, please apply it.

	> When I execute "virt-install --file-size=10", > the value of
	"--file-size" option is ignored and the error message > "ERROR:
	float() argument must be a string or a number" is output > after I
	answer "What would you like to use as the disk (path)?". > > The
	attached patch adds to solve this problem. > > > Signed-off-by:
	Nobuhiro Itou <fj0873gn@aa.jp.fujitsu.com>

	 Thanks, Nobuhiro Itou.
	[9c1be02327ed]

2007-03-12  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install:
	Patch virt-install error handling to use callbacks. Thanks to Saori
	Fukuta <fukuta-dot-saori-at-jp-dot-fujitsu-dot-com>
	[95196b0f37a5]

2007-03-08  "Daniel P. Berrange  <berrange@redhat.com>

	* AUTHORS, tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-
	disk-file.xml, tests/boot-paravirt-disk-block.xml, tests/boot-
	paravirt-disk-drv-file.xml, tests/boot-paravirt-disk-drv-phy.xml,
	tests/boot-paravirt-disk-drv-tap-qcow.xml, tests/boot-paravirt-disk-
	drv-tap.xml, tests/boot-paravirt-disk-file.xml, tests/boot-paravirt-
	many-disks.xml, tests/install-fullyvirt-disk-block.xml, tests
	/install-fullyvirt-disk-file.xml, tests/install-paravirt-disk-
	block.xml, tests/install-paravirt-disk-drv-file.xml, tests/install-
	paravirt-disk-drv-phy.xml, tests/install-paravirt-disk-drv-tap-
	qcow.xml, tests/install-paravirt-disk-drv-tap.xml, tests/install-
	paravirt-disk-file.xml, tests/install-paravirt-many-disks.xml,
	tests/xmlconfig.py:
	Extended tests to coverage vnc & sdl graphics
	[2e5b60ecbd93]

	* virt-install, virtinst/Guest.py:
	Added support for setting keymap. Signed off by: "Takahashi
	Tomohiro" <takatom@jp.fujitsu.com>
	[660a6db5a4be]

2007-03-02  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install:
	Fix restarting of guest after install completes
	[3e18fa0cafc4]

2007-03-01  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install:
	Make the vnc port number acquisition sane. Specifically, sleep in
	.25 second increments for 40 seconds while waiting for the guest's
	vnc server to wake up. Patch from Saori Fukuta <fukuta-dot-saori-at-
	jp-dot-fujitsu-dot-com>.
	[5a1190f54c80]

2007-02-28  "Daniel P. Berrange  <berrange@redhat.com>

	* AUTHORS, virtinst/Guest.py:
	Validate VNC port is >= 5900 Signed-off-by: Nobuhiro Itou
	<fj0873gn@aa.jp.fujitsu.com>
	[1776ef836bf6]

	* virt-install:
	Fixed checking of connection type for Xen Signed-off-by: Saori
	Fukuta <fukuta.saori@jp.fujitsu.com>
	[5f3f6ae01e2b]

	* AUTHORS, virtinst/Guest.py:
	Merge heads
	[a55969f95cb6]

2007-02-27  "Hugh O. Brock  <hbrock@redhat.com>

	* AUTHORS, virtinst/Guest.py:
	Validate mac address if it is provided. Patch from Saori Fukuta
	<fukuta-dot-saori-at-jp-dot-fujitsu-dot-com>
	[57dbbb69dea0]

2007-02-23  "Daniel P. Berrange  <berrange@redhat.com>

	* AUTHORS, virtinst/Guest.py:
	Further improvements to name validation from Jim Meyering
	[5e84e3e68e3f]

	* virtinst/Guest.py:
	Tweak error message at suggestion from Saori Fukuta
	[fe6b999dd8c8]

2007-02-21  "Daniel P. Berrange  <berrange@redhat.com>

	* AUTHORS, virtinst/Guest.py:
	Ensure VM names are not numeric only

	Signed-off-by: Saori Fukuta <fukuta.saori@jp.fujitsu.com>
	[982e9920511c]

2007-02-20  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgtags:
	Added tag virtinst-0_101_0 for changeset
	8707deca1823a73a1ff46ac288d605408d6fe3f6
	[9aca876d3343]

	* MANIFEST.in:
	Added news & changelog to dist
	[8707deca1823] [virtinst-0_101_0]

	* NEWS:
	Add release notes
	[5f2da74ee230]

	* python-virtinst.spec.in:
	Increase dep on libvirt to 0.2.0
	[4d6fefc0d71d]

	* ChangeLog, README:
	Generate changelog
	[f514f0860a75]

	* Merge heads
	[f9a7ddd9e814]

	* setup.py:
	Bump version
	[367e527d66cc]

2007-02-16  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install, virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Allow architecture to be set. Added code to install QEMU via
	kernel/initrd instead of ISO. Disabled for now
	[a983726c8379]

	* virtinst/DistroManager.py:
	Baremetal images should come from images/pxeboot for Fedora
	[f95ac65e6de7]

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Add idea of 'transient' disk which is only used for install, not the
	persistent config file
	[0440eade27e7]

	* virtinst/Guest.py:
	Moved console callback after check for guest startup. Don't allow
	NFS installs for non-root. Fixed close of filedescriptor in error
	conditions
	[488532c4fd01]

2007-02-14  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install, virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py, virtinst/util.py:
	Enable QEMU/KVM support via args --connect qemu:///session
	[4c8b15960d05]

	* tests/xmlconfig.py:
	Set os parameters
	[0fde951a4706]

	* virtinst/FullVirtGuest.py:
	Merge heads
	[ff1eb3052399]

	* .hgignore:
	Ignore coverage data files
	[510eab13dfb1]

	* tests/install-paravirt-disk-block.xml, tests/install-paravirt-disk-
	drv-file.xml, tests/install-paravirt-disk-drv-phy.xml, tests
	/install-paravirt-disk-drv-tap-qcow.xml, tests/install-paravirt-
	disk-drv-tap.xml, tests/install-paravirt-disk-file.xml, tests
	/install-paravirt-many-disks.xml, virtinst/DistroManager.py,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Refactor the kernel/image fetching to deal with different distros &
	more flexibility for equivalence between full & para virt
	capabilities
	[e728d35db9bf]

	* autobuild.sh, setup.py, tests/coverage.py:
	Enable code coverage for unit tests
	[882e19f29564]

2007-02-13  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install, virtinst/FullVirtGuest.py:
	Add an OS dictionary for full-virt guests so callers can specify an
	os-type and os-variant, which will in turn correctly set apic and
	acpi for the guest. Also allow callers to set --noapic and --noacpi
	directly
	[23382c1d1495]

2007-02-01  "Daniel P. Berrange  <berrange@redhat.com>

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/boot-paravirt-disk-block.xml, tests/boot-paravirt-
	disk-drv-file.xml, tests/boot-paravirt-disk-drv-phy.xml, tests/boot-
	paravirt-disk-drv-tap-qcow.xml, tests/boot-paravirt-disk-drv-
	tap.xml, tests/boot-paravirt-disk-file.xml, tests/boot-paravirt-
	many-disks.xml, tests/install-fullyvirt-disk-block.xml, tests
	/install-fullyvirt-disk-file.xml, tests/install-paravirt-disk-
	block.xml, tests/install-paravirt-disk-drv-file.xml, tests/install-
	paravirt-disk-drv-phy.xml, tests/install-paravirt-disk-drv-tap-
	qcow.xml, tests/install-paravirt-disk-drv-tap.xml, tests/install-
	paravirt-disk-file.xml, tests/install-paravirt-many-disks.xml,
	tests/xmlconfig.py, virtinst/Guest.py:
	Added support for setting maximum memory for boot
	[c0fb121cdf62]

2007-01-29  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgignore, MANIFEST.in, autobuild.sh, python-virtinst.spec.in:
	Added autobuild control file for build/test automation purposes
	[774d4b9b629d]

2007-01-26  "Daniel P. Berrange  <berrange@redhat.com>

	* setup.py, tests/__init__.py, tests/xmlconfig.py, virt-install,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Allow both PV & FV installs to be done from device,file,http,nfs,ftp
	sources, thus pulling all setup into Guest.py
	[5742b7ccb6be]

	* setup.py, tests/xmlconfig.py:
	Added a 'test' command to setup.py to run unit tests
	[6d6390ea98e8]

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/install-fullyvirt-disk-block.xml, tests/install-
	fullyvirt-disk-file.xml, virtinst/FullVirtGuest.py:
	Add a serial port for all HVM guests
	[cd75bbb588e4]

2007-01-25  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py, virtinst/__init__.py:
	Added in back-compat classes
	[18ce957e8193]

	* virtinst/ParaVirtGuest.py:
	Fixed errors in NFS installs
	[2ab5cde6f741]

2007-01-22  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgtags:
	Added tag virtinst-0_100_0 for changeset
	a7820501d7ec143efcbf3dbb7e1e71d1d4e415e6
	[2c7176fccb80]

	* setup.py:
	Bump version to 0.100.0
	[a7820501d7ec] [virtinst-0_100_0]

	* virt-install:
	Fixed missing import of libvirt
	[0be22987a185]

2007-01-17  "Daniel P. Berrange  <berrange@redhat.com>

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/boot-paravirt-disk-block.xml, tests/boot-paravirt-
	disk-drv-file.xml, tests/boot-paravirt-disk-drv-phy.xml, tests/boot-
	paravirt-disk-drv-tap-qcow.xml, tests/boot-paravirt-disk-drv-
	tap.xml, tests/boot-paravirt-disk-file.xml, tests/boot-paravirt-
	many-disks.xml, tests/data-fullyvirt-disk-block.xen, tests/data-
	fullyvirt-disk-block.xml, tests/data-fullyvirt-disk-file.xen, tests
	/data-fullyvirt-disk-file.xml, tests/data-paravirt-disk-block.xen,
	tests/data-paravirt-disk-block.xml, tests/data-paravirt-disk-drv-
	file.xen, tests/data-paravirt-disk-drv-file.xml, tests/data-
	paravirt-disk-drv-phy.xen, tests/data-paravirt-disk-drv-phy.xml,
	tests/data-paravirt-disk-drv-tap-qcow.xen, tests/data-paravirt-disk-
	drv-tap-qcow.xml, tests/data-paravirt-disk-drv-tap.xen, tests/data-
	paravirt-disk-drv-tap.xml, tests/data-paravirt-disk-file.xen, tests
	/data-paravirt-disk-file.xml, tests/data-paravirt-many-disks.xen,
	tests/data-paravirt-many-disks.xml, tests/install-fullyvirt-disk-
	block.xml, tests/install-fullyvirt-disk-file.xml, tests/install-
	paravirt-disk-block.xml, tests/install-paravirt-disk-drv-file.xml,
	tests/install-paravirt-disk-drv-phy.xml, tests/install-paravirt-
	disk-drv-tap-qcow.xml, tests/install-paravirt-disk-drv-tap.xml,
	tests/install-paravirt-disk-file.xml, tests/install-paravirt-many-
	disks.xml, tests/xenconfig.py, tests/xmlconfig.py, virt-install,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py, virtinst/XenGuest.py,
	virtinst/__init__.py:
	Update to use libvirt inactive domain support for creating configs.
	Removed Xen specific bits
	[ffed74b54779]

2007-01-10  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/XenGuest.py:
	Finish command-line progress bar fixes
	[1f5a3fc541fa]

2007-01-05  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install, virtinst/ParaVirtGuest.py, virtinst/XenGuest.py:
	Add progress bar hooks to virtinst. It will now automatically
	display a progress bar on the command line for paravirt guests
	(full-virt bits coming soon).
	[25dd626a3f96]

2006-12-15  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag virtinst-0_99_0 for changeset b40441df89e9
	[ebc0da7a356d]

	* setup.py:
	bump version
	[b40441df89e9] [virtinst-0_99_0]

	* virtinst/ParaVirtGuest.py:
	support new pvfb xen config (patch from berrange)
	[76060fa00654]

2006-12-12  gcosta  <gcosta@redhat.com>

	* virt-install:
	Added exception instance to get_memory() exception

	stoping virt-install to crash when a wrong parameter is passed.
	[1e5769665e58]

2006-12-01  "Jeremy Katz  <katzj@redhat.com>

	* virtinst/XenGuest.py:
	don't sleep for 2 seconds unconditionally; just wait for the domain
	to be up (#212024)
	[9e34ad1488a1]

2006-11-30  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag virtinst-0_98_0 for changeset
	f75f4efc41ead6b3ec4b111cbaef062393bfe183
	[263d871aae53]

	* setup.py:
	bump version
	[f75f4efc41ea] [virtinst-0_98_0]

	* virt-install, virtinst/XenGuest.py:
	allow nonsparse disk files (#217764)
	[51466ec666a7]

2006-11-20  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag virtinst-0_97_0 for changeset
	f8f6d44cbcaf04e0906b14ec46265fd665081bda
	[acf7dca2ea7e]

	* setup.py:
	0.97
	[f8f6d44cbcaf] [virtinst-0_97_0]

	* virt-install:
	shenanigans to handle specifying multiple disks or nics (#215726)
	[fc5fef92cb7d]

	* virtinst/XenGuest.py:
	figure out default bridge at setup() time
	[43eda001e77a]

2006-11-15  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/XenGuest.py:
	Add validation to vm name
	[e8b312c53362]

2006-11-15  "Daniel P. Berrange  <berrange@redhat.com>

	* AUTHORS, virt-install, virtinst/XenGuest.py, virtinst/util.py:
	Added patch from Glauber to auto-detect primary bridge based on
	default network route (bz#201626 & #207210)[D
	[411b1cdfe183]

2006-10-20  "Jeremy Katz  <katzj@redhat.com>

	* virt-install:
	require uid == 0 (#211537)
	[24affa40e859]

2006-10-18  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag virtinst-0_96_0 for changeset
	9ee6fa56dd127a829f1a0373b61687440f95e8d9
	[67ed9a0512a0]

	* setup.py:
	bump version
	[9ee6fa56dd12] [virtinst-0_96_0]

	* virtinst/util.py:
	better way to check for hvm capable (#211276)
	[787d07346aaf]

	* virtinst/ParaVirtGuest.py:
	cleanup on nfs failure (#206196)
	[663a49221c9c]

	* virt-install:
	actually helps to use the vcpu option
	[80513d48316b]

2006-10-13  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag virtinst-0_95_1 for changeset
	7a0f39f731dbd0d5aa21e9d3d97fb64fcb4441b8
	[6077694e7d2e]

	* setup.py:
	bump version
	[7a0f39f731db] [virtinst-0_95_1]

	* virt-install:
	add support for setting vcpus
	[c1a2ab6c62d5]

2006-10-12  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag virtinst-0_95_0 for changeset
	560b7e3b790b1e25cf8d0e7109c9dd5b2b0ff9be
	[128ab2bd8985]

	* README, setup.py, tests/xenconfig.py, tests/xmlconfig.py, virt-
	install, virtinst/FullVirtGuest.py, virtinst/ParaVirtGuest.py,
	virtinst/XenGuest.py, virtinst/__init__.py, virtinst/util.py,
	xenguest-install, xeninst/FullVirtGuest.py,
	xeninst/ParaVirtGuest.py, xeninst/XenGuest.py, xeninst/__init__.py,
	xeninst/util.py:
	rename to virtinst
	[560b7e3b790b] [virtinst-0_95_0]

2006-10-05  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgignore, tests/data-fullyvirt-disk-block.xen, tests/data-
	fullyvirt-disk-block.xml, tests/data-fullyvirt-disk-file.xen, tests
	/data-fullyvirt-disk-file.xml, tests/data-paravirt-disk-block.xen,
	tests/data-paravirt-disk-block.xml, tests/data-paravirt-disk-drv-
	file.xen, tests/data-paravirt-disk-drv-file.xml, tests/data-
	paravirt-disk-drv-phy.xen, tests/data-paravirt-disk-drv-phy.xml,
	tests/data-paravirt-disk-drv-tap-qcow.xen, tests/data-paravirt-disk-
	drv-tap-qcow.xml, tests/data-paravirt-disk-drv-tap.xen, tests/data-
	paravirt-disk-drv-tap.xml, tests/data-paravirt-disk-file.xen, tests
	/data-paravirt-disk-file.xml, tests/data-paravirt-many-disks.xen,
	tests/data-paravirt-many-disks.xml, tests/xenconfig.py,
	tests/xmlconfig.py, xenguest-install, xeninst/FullVirtGuest.py,
	xeninst/ParaVirtGuest.py, xeninst/XenGuest.py, xeninst/util.py:
	Added support for setting individual disk drivers & made blktap
	default. Added test suite, added logging
	[27e33caef8c9]

2006-10-03  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag xeninst-0_94_0 for changeset
	7a2586529ba1a869cfb0b7d1d5f6729da987e464
	[7b81f0fcb161]

	* xeninst/XenGuest.py:
	fix handling of block based devs (#209138)
	[7a2586529ba1] [xeninst-0_94_0]

2006-09-26  "Daniel P. Berrange  <berrange@redhat.com>

	* xeninst/ParaVirtGuest.py:
	Fix raising of errors for invalid http & nfs install locations
	[7e1236740f3f]

2006-09-21  "Daniel P. Berrange  <berrange@redhat.com>

	* xeninst/FullVirtGuest.py, xeninst/ParaVirtGuest.py:
	Write out vcpu setting to XM config
	[d595d0330c59]

	* .hgignore:
	Ignore generated files
	[7763b1aa9bd4]

2006-09-20  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag xeninst-0_93_0 for changeset
	5c72121900824d7c8e0552e6596fc0e148ce5b40
	[f67aed467932]

	* setup.py:
	0.93
	[5c7212190082] [xeninst-0_93_0]

2006-09-20  "Daniel P. Berrange  <berrange@redhat.com>

	* xeninst/FullVirtGuest.py:
	Ensure type=ioemu is set for HVM network XM config
	[3de16d4d36a3]

2006-09-19  "Daniel P. Berrange  <berrange@redhat.com>

	* xeninst/FullVirtGuest.py, xeninst/util.py:
	Enable PAE for fully virt if host system supports PAE
	[343a07e54fea]

	* xeninst/FullVirtGuest.py:
	Fixed source element for fully virt CDROM backed to host Cdrom
	device. Remove ioemu: prefix which is bogus
	[1c7edbaf1445]

2006-09-14  "Daniel P. Berrange  <berrange@redhat.com>

	* xeninst/XenGuest.py:
	Explicitly turn off vncunsed otherwise our requested port is ignored
	[5ce044228c12]

	* xeninst/XenGuest.py:
	Fix handling of virtual disks backed by block devices rather than
	files
	[3966ca5d6d91]

2006-09-12  "Jeremy Katz  <katzj@redhat.com>

	* xenguest-install:
	actually check if we're on a xen kernel (#205889) add some sdl
	support (untested)
	[0ead02fd9ab4]

2006-09-05  "Jeremy Katz  <katzj@redhat.com>

	* xeninst/XenGuest.py:
	default to vncunused
	[a7ee7399bf81]

	* xenguest-install:
	fix tyop, make memory an int
	[0ec8dbfd35d6]

2006-08-31  "Jeremy Katz  <katzj@redhat.com>

	* xeninst/XenGuest.py:
	allow --vncport=-1 ==> vncunused.
	[806fa934fb56]

2006-08-30  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag xeninst-0_92_0 for changeset
	2e8629eba0863ce5dc1d4afd5258c9828a47d2bb
	[533a0ffc35f3]

	* setup.py:
	bump version
	[2e8629eba086] [xeninst-0_92_0]

	* xenguest-install, xeninst/FullVirtGuest.py,
	xeninst/ParaVirtGuest.py, xeninst/XenGuest.py:
	support for rebooting the domain when the installation is thought to
	be finished. there's a bit of heuristic present (we look for the
	disk to be bootable) but it seems better than nothing
	[ba3057941853]

	* xenguest-install, xeninst/ParaVirtGuest.py, xeninst/XenGuest.py:
	fix what we display to be right about whether or not the domain is
	really still running or not
	[4fff5d229ffa]

	* xeninst/XenGuest.py:
	fix passing mac addr
	[e980b4312587]

	* xenguest-install:
	fix interactive mode (patch from misa)
	[4d68b9bf8a8c]

2006-08-29  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag xeninst-0_91_0 for changeset
	57b6ff5c7c687c3ff699ed252e243a79a4c93ac3
	[5ccc94034669]

	* README, setup.py:
	bump version
	[57b6ff5c7c68] [xeninst-0_91_0]

	* xenguest-install, xeninst/ParaVirtGuest.py, xeninst/XenGuest.py:
	support spawning vncviewer or xm console as appropriate for the
	console case.
	[d31935c8621b]

2006-08-28  "Jeremy Katz  <katzj@redhat.com>

	* xeninst/FullVirtGuest.py, xeninst/XenGuest.py:
	fix defaults for graphics. also, fix FV installs
	[76eeb332e6d9]

	* xenguest-install, xeninst/FullVirtGuest.py,
	xeninst/ParaVirtGuest.py, xeninst/XenGuest.py:
	add some support for setting up graphics (vnc or sdl) for both PV
	and FV guests. only expose vnc via xenguest-install

	also, add features to FullVirt guests a little bit more sanely
	[e225cab985ed]

2006-08-26  "Jeremy Katz  <katzj@redhat.com>

	* xenguest-install, xeninst/FullVirtGuest.py,
	xeninst/ParaVirtGuest.py, xeninst/XenGuest.py:
	make start_install a little bit more generic and push it up to
	XenGuest, add the bits for a console callback method instead of just
	having an 'xm console' call
	[1b9591c9e8bc]

	* xenguest-install:
	don't loop endlessly if ram < MIN_RAM
	[8b9a605f6a4b]

2006-08-21  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag xeninst-0_90_1 for changeset
	04de889a7913a6627be1f9c5e64ccb9b43923a83
	[01240ab480e3]

	* setup.py:
	0.90.1
	[04de889a7913] [xeninst-0_90_1]

	* xenguest-install:
	fix tab/space mixups
	[6a79a5d8912f]

2006-08-16  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag xeninst-0_90_0 for changeset
	b9b0c26c43ac9cb72ec6a97744bf4d848d4008e6
	[629746bc3e6c]

	* setup.py:
	need to set version here too
	[b9b0c26c43ac] [xeninst-0_90_0]

	* .hgtags:
	Added tag xeninst-0_90_0 for changeset
	5c415fab3aab716e0c7bbe136593a4151e6df494
	[2574f179804e]

	* xeninst/FullVirtGuest.py, xeninst/ParaVirtGuest.py:
	adjust for libvirt 0.1.4 changes. FV guest installs work now
	[5c415fab3aab]

	* xeninst/XenGuest.py:
	use the disk node type for the xen disk config too
	[db982552777a]

2006-08-15  "Jeremy Katz  <katzj@redhat.com>

	* merge
	[2697e6200e3c]

	* setup.py, xenguest-install:
	make them executable
	[c23bfb2eacf9]

	* setup.py, xenguest-install, xenguest-install.py:
	* rename xenguest-install.py -> xenguest-install
	* add a setup.py
	[aeed403f35ab]

	* README:
	add a readme
	[c42e8956ef45]

	* xenguest-install.py:
	fix extraargs
	[cf4ac306cab8]

2006-08-10  "Jeremy Katz  <katzj@redhat.com>

	* xeninst/ParaVirtGuest.py:
	give the error to help people diagnosing problems (per a comment on
	my blog)
	[8a5e11a80a02]

2006-08-09  "Jeremy Katz  <katzj@redhat.com>

	* xenguest-install.py:
	prompt for cd bits
	[343d4e96f320]

	* xeninst/FullVirtGuest.py:
	first pass at full virt installs. doesn't currently work due to
	libvirt not fully understanding cd devices for hvm guests
	[927ce0645782]

	* xeninst/ParaVirtGuest.py:
	use common bits from XenGuest, define disk to be xvd, remove some
	extraneous quotes
	[41aa1b38a546]

	* xeninst/XenGuest.py:
	disk and network xml/xen methods can be shared between PV and FV
	[5868f760fd85]

	* xeninst/ParaVirtGuest.py:
	fix type of boot to be a tuple properly. also take a dict
	[208313b93e92]

	* xeninst/ParaVirtGuest.py:
	allow specifying just the boot kernel + initrd instead of just
	booting them via location for koan's use
	[35c3c080d448]

2006-08-08  "Jeremy Katz  <katzj@redhat.com>

	* xenguest-install.py, xeninst/FullVirtGuest.py,
	xeninst/ParaVirtGuest.py, xeninst/XenGuest.py, xeninst/__init__.py,
	xeninst/util.py:
	first pass at breaking up xenguest-install to have more of a usable
	API. currently only works for paravirt and some of the bits after
	the install gets started are still a little less than ideal
	[6f612cc86dd1]

